TestData{
    .name = "ALU - AND",
    .initialState = {
        .programRAM = {0x4000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0x9F00F,
        .P = 0xCFF00,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x4000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0x8F000,
        .AC = 0x9F00F,
        .P = 0xCFF00,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - OR",
    .initialState = {
        .programRAM = {0x8000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0x9F00F,
        .P = 0xCFF00,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x8000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0xDFF0F,
        .AC = 0x9F00F,
        .P = 0xCFF00,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - XOR",
    .initialState = {
        .programRAM = {0xC000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0x9F00F,
        .P = 0xCFF00,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0xC000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0x50F0F,
        .AC = 0x9F00F,
        .P = 0xCFF00,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - ADD",
    .initialState = {
        .programRAM = {0x10000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 123,
        .P = 456,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x10000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 579,
        .AC = 123,
        .P = 456,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - SUB",
    .initialState = {
        .programRAM = {0x14000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 123,
        .P = 456,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x14000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = true,
        .zero = false,
        .carry = true,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0xFFFFFEB3,
        .AC = 123,
        .P = 456,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - AD2",
    .initialState = {
        .programRAM = {0x18000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 12345678987654ull,
        .P = 98765432123456ull,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x18000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 111111111111110ull,
        .AC = 12345678987654ull,
        .P = 98765432123456ull,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - SR",
    .initialState = {
        .programRAM = {0x20000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0x10,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x20000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0x08,
        .AC = 0x10,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - RR",
    .initialState = {
        .programRAM = {0x24000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0x11,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x24000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = true,
        .zero = false,
        .carry = true,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0x80000008,
        .AC = 0x11,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - SL",
    .initialState = {
        .programRAM = {0x28000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0x10,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x28000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0x20,
        .AC = 0x10,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - RL",
    .initialState = {
        .programRAM = {0x2C000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0x80000001,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x2C000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = true,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0x3,
        .AC = 0x80000001,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "ALU - RL8",
    .initialState = {
        .programRAM = {0x3C000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0xFF800000,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x3C000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = true,
        .zero = false,
        .carry = true,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0x800000FF,
        .AC = 0xFF800000,
        .P = 0,
        .RX = 0,
        .RY = 0,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "X-Bus - MOV MUL,P (basic)",
    .initialState = {
        .programRAM = {0x01000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0,
        .P = 0,
        .RX = 123,
        .RY = 456,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x01000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0,
        .P = 56088,
        .RX = 123,
        .RY = 456,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "X-Bus - MOV MUL,P (large values)",
    .initialState = {
        .programRAM = {0x01000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0,
        .P = 0,
        .RX = 1234567890ll,
        .RY = 1234567890ll,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x01000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0,
        .P = 252351107560516ull,
        .RX = 1234567890ll,
        .RY = 1234567890ll,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},
TestData{
    .name = "X-Bus - MOV MUL,P (negative result)",
    .initialState = {
        .programRAM = {0x01000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 0,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0,
        .P = 0,
        .RX = 123,
        .RY = -1,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .finalState = {
        .programRAM = {0x01000000},
        .dataRAM = {{
            {},
            {},
            {},
            {},
        }},
        .PC = 1,
        .sign = false,
        .zero = false,
        .carry = false,
        .overflow = false,
        .CT = {0, 0, 0, 0},
        .ALU = 0,
        .AC = 0,
        .P = 0xFFFFFFFFFF85ull,
        .RX = 123,
        .RY = -1,
        .LOP = 0,
        .TOP = 0,
        .RA0 = 0,
        .WA0 = 0,
    },
    .numSteps = 1,
},

// TODO: test the rest of the instructions

// [s] = CT0..CT3, MC0..MC3
// "X-Bus - MOV [s],P"
// "X-Bus - MOV [s],X"

// [s] = CT0..CT3, MC0..MC3
// "Y-Bus - CLR A"
// "Y-Bus - MOV ALU,A"
// "Y-Bus - MOV [s],A"
// "Y-Bus - MOV [s],Y"

// [s] = CT0..CT3, MC0..MC3, ALUL, ALUH
// [d] = CT0..CT3, MC0..MC3, RX, P, RA0, WA0, LOP, TOP
// "D1-Bus - MOV SImm,[d]"
// "D1-Bus - MOV [s],[d]"

// [s] (X,Y) = CT0..CT3, MC0..MC3
// [s] (D1)  = CT0..CT3, MC0..MC3, ALUL, ALUH
// [d] (D1)  = CT0..CT3, MC0..MC3, RX, P, RA0, WA0, LOP, TOP
// "Combined - AND  MOV MUL,P  MOV [s],X  MOV ALU,A  MOV [s],Y  MOV [s],[d]"

// [RAM]=Data RAM 0..3 or Program RAM
// D0=SCU A-Bus, SCU B-Bus or WRAM High
// [s]=CT0..CT3, MC0..MC3
// "DMA [RAM],D0,SImm"
// "DMA [RAM],D0,[s]"
// "DMAH [RAM],D0,SImm"
// "DMAH [RAM],D0,[s]"
// "DMA D0,[RAM],SImm"
// "DMA D0,[RAM],[s]"
// "DMAH D0,[RAM],SImm"
// "DMAH D0,[RAM],[s]"

// [d] = CT0..CT3, RX, P, RA0, WA0, LOP, TOP
// "MVI SImm,[d]"
// "MVI <cond>,SImm,[d]"

// "JMP Imm"
// "JMP <cond>,Imm"

// "LPS"
// "BTM"

// "END"
// "ENDI"
